function getAudio(e){"use strict";var t=sAudioMap[e];return t||(t=new Audio,t.src=e,sAudioMap[e]=t),t}function time(){"use strict";timer++,minute=parseInt(timer/60,10),second=parseInt(timer%60,10),second=10>second?"0"+second:second}function ChangeKeyBlue(e){"use strict";var t=document.getElementsByClassName("key"),r=document.getElementsByClassName("key_b");note=e.id;for(var a=0;a<t.length;a++)t[a].style.backgroundColor="white";for(var n=0;n<r.length;n++)r[n].style.backgroundColor="black";e.style.backgroundColor="rgb(62, 152, 209)"}function buttonFunction(e){"use strict";button=e.id;for(var t=document.getElementsByTagName("button"),r=0;r<t.length;r++)t[r].style.backgroundColor="";e.style.backgroundColor="rgb(62, 152, 209)"}function mov(e){"use strict";"rgb(62, 152, 209)"!==e.style.backgroundColor&&(e.style.backgroundColor="yellow")}function moo(e){"use strict";"rgb(62, 152, 209)"!==e.style.backgroundColor&&(e.style.backgroundColor="white")}function mob(e){"use strict";"rgb(62, 152, 209)"!==e.style.backgroundColor&&(e.style.backgroundColor="black")}function randRange(e,t){"use strict";return Math.round(Math.random()*(t-e)+e)}function shuffleCards(){"use strict";for(var e=0;1e3>e;e++){var t,r,a;r=randRange(0,flashCards.length-1),a=randRange(0,flashCards.length-1),t=flashCards[r],flashCards[r]=flashCards[a],flashCards[a]=t}}function finish(){"use strict";bod[0].style.backgroundColor="#999",clearInterval(ourTimer),overlay=document.getElementById("overlay"),results=document.getElementById("results");var e=document.getElementById("time"),t=document.getElementById("correct"),r=document.getElementById("incorrect");enable=!1,overlay.className="show",results.className="show",t.innerHTML=notesCorrect,r.innerHTML=notesWrong,e.innerHTML=minute+":"+second}function getScores(){var e=new XMLHttpRequest,t="../controller/getscores.php";e.open("GET",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&(document.getElementById("score_data").innerHTML=e.responseText)},e.send()}function sendData(){"use strict";var e=new XMLHttpRequest,t="time=00:"+minute+":"+second+"&correct="+notesCorrect,r="../controller/input.php";e.open("POST",r,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&(document.getElementById("sendStuff").disabled=!0,document.getElementById("score_data").innerHTML=e.responseText)},e.send(t)}function newGame(){"use strict";document.getElementById("sendStuff").disabled=!1,location.reload()}function showNote(){"use strict";if(up++,void 0===flashCards[currentCard])return finish();switch("quarter"===flashCards[currentCard][3]?ctx.drawImage(img8,126,flashCards[currentCard][2],19,48):"quarterUp"===flashCards[currentCard][3]&&ctx.drawImage(img9,126,flashCards[currentCard][2],19,48),flashCards[currentCard][2]){case 23:ctx.drawImage(img7,120,28,30,2),ctx.drawImage(img7,120,40,30,2);break;case 29:ctx.drawImage(img7,120,40,30,2);break;case 35:ctx.drawImage(img7,120,40,30,2);break;case 73:ctx.drawImage(img7,120,114,30,2);break;case 79:ctx.drawImage(img7,120,114,30,2);break;case 85:ctx.drawImage(img7,120,126,30,2),ctx.drawImage(img7,120,114,30,2);break;case 132:ctx.drawImage(img7,120,150,30,2),ctx.drawImage(img7,120,138,30,2);break;case 139:ctx.drawImage(img7,120,150,30,2);break;case 144:ctx.drawImage(img7,120,150,30,2);break;case 185:ctx.drawImage(img7,120,225,30,2);break;case 190:ctx.drawImage(img7,120,225,30,2);break;case 197:ctx.drawImage(img7,120,225,30,2),ctx.drawImage(img7,120,237,30,2)}}function init(){ctx.clearRect(0,0,250,260),ctx.drawImage(img,10,55,10,157),ctx.drawImage(img1,23,55,2,157),ctx.drawImage(img2,231,55,2,157),ctx.drawImage(img3,23,53,210,50),ctx.drawImage(img4,23,163,210,50),ctx.drawImage(img5,30,163,35,39),ctx.drawImage(img6,30,38,32,78),currentLetter="",currentAccidental="Natural",currentKey="",showNote()}function nextCard(){currentCard++,init()}function check(){"use strict";var e=flashCards[currentCard][0],t=e.split("");e!==note||t[0]!==button?(badDing.play(),notesWrong++,nextCard()):(ding.play(),notesCorrect++,nextCard())}function toWhite(){"use strict";for(var e=document.getElementsByClassName("key"),t=document.getElementsByClassName("key_b"),r=0;r<e.length;r++)e[r].style.backgroundColor="white";for(var a=0;a<t.length;a++)t[a].style.backgroundColor="black";for(var n=document.getElementsByTagName("button"),c=0;c<n.length;c++)n[c].style.backgroundColor="";check()}var sAudioMap={},up=0,note,button,ourTimer,notesWrong=0,notesCorrect=0,timer=0,minute=0,second=0,overlay,results,flashCards=[["c2",126,197,"quarter"],["d2",126,190,"quarter"],["e2",126,185,"quarter"],["f2",126,176,"quarter"],["g2",126,170,"quarter"],["a2",126,165,"quarter"],["b2",126,158,"quarter"],["c3",126,153,"quarter"],["d3",126,147,"quarter"],["e3",126,176,"quarterUp"],["f3",126,170,"quarterUp"],["g3",126,165,"quarterUp"],["a3",126,158,"quarterUp"],["b3",126,152,"quarterUp"],["c4",126,144,"quarterUp"],["d4",126,139,"quarterUp"],["e4",126,132,"quarterUp"],["a3",126,85,"quarter"],["b3",126,79,"quarter"],["c4",126,73,"quarter"],["d4",126,66,"quarter"],["e4",126,60,"quarter"],["f4",126,54,"quarter"],["g4",126,48,"quarter"],["a4",126,43,"quarter"],["b4",126,37,"quarter"],["c5",126,66,"quarterUp"],["d5",126,60,"quarterUp"],["e5",126,55,"quarterUp"],["f5",126,49,"quarterUp"],["g5",126,43,"quarterUp"],["a5",126,35,"quarterUp"],["b5",126,29,"quarterUp"],["c6",126,23,"quarterUp"]],currentLetter="",currentAccidental="",currentKey="",currentCard=0,enable=!0,bod=document.getElementsByTagName("body"),ding,badDing,canvas,ctx,img,img1,img2,img3,img4,img5,img6,img7,img8,img9;window.onload=function(){"use strict";ding=getAudio("ding2.wav"),badDing=getAudio("uterror.wav"),canvas=document.getElementById("myCanvas"),ctx=canvas.getContext("2d"),img=document.getElementById("brace"),img1=document.getElementById("vertical"),img2=document.getElementById("vertical2"),img3=document.getElementById("staff"),img4=document.getElementById("staff2"),img5=document.getElementById("F_clef"),img6=document.getElementById("G_clef"),img7=document.getElementById("ledger"),img8=document.getElementById("quarter"),img9=document.getElementById("quarterUp"),shuffleCards(),ourTimer=setInterval(time,1e3),init(),window.addEventListener("keypress",function(e){if(1==enable){var t=document.getElementsByTagName("button");switch(e.which){case 97:buttonFunction(t[3]);break;case 98:buttonFunction(t[4]);break;case 99:buttonFunction(t[5]);break;case 100:buttonFunction(t[6]);break;case 101:buttonFunction(t[7]);break;case 102:buttonFunction(t[8]);break;case 103:buttonFunction(t[9]);break;case 32:e.preventDefault(),toWhite()}}})};
